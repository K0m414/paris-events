(this["webpackJsonpparis-events"]=this["webpackJsonpparis-events"]||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){},54:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),r=c(26),i=c.n(r),a=(c(33),c(34),c(4)),d=c(9),l=c.n(d),o=(c(54),c(0)),j=function(){return Object(o.jsx)("div",{className:"page-error-API",children:Object(o.jsx)("p",{children:"Il y a un probleme avec l'API. Veuillez r\xe9essayer plus tard."})})},u={LocalDate:function(e){return new Date(e).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})},LocalHour:function(e){return new Date(e).toLocaleString("fr-FR",{hour:"2-digit",minute:"2-digit"})}},b=(c(56),c(57),"parisEventsFavoritesID"),h={getFavorisID:function(){var e=window.localStorage.getItem(b);return e=e?JSON.parse(e):[]},setFavorisID:function(e){return window.localStorage.setItem(b,JSON.stringify(e))}},O=(c(58),function(e){var t=Object(s.useState)(!1),c=Object(a.a)(t,2),n=c[0],r=c[1];return Object(s.useEffect)((function(){var e=h.getFavorisID();h.setFavorisID(e)}),[e]),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"favorite-button",onClick:function(){r(!n);var t=h.getFavorisID();t.find((function(t){return e}))?(r(!1),t.splice(t.indexOf(e),1)):(r(!0),t.push(e)),h.setFavorisID(t)},children:"favoris"})})}),f=function(e){var t=e.event,c=e.onClose,s=t.id,n=t;return Object(o.jsx)("div",{className:"main-content",children:n&&Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"overlay"}),Object(o.jsxs)("div",{className:"detail-card",children:[Object(o.jsx)("button",{className:"close-detail",onClick:function(){return c()},children:"Fermer"}),Object(o.jsx)("h1",{children:n.fields.title}),Object(o.jsxs)("div",{className:"event-detail",children:[Object(o.jsx)("img",{src:n.fields.cover.url,alt:"image de "+n.fields.cover_alt}),Object(o.jsxs)("div",{className:"event-description",children:[Object(o.jsx)("h4",{children:"Description : "}),Object(o.jsx)("p",{dangerouslySetInnerHTML:{__html:n.fields.description}})]}),Object(o.jsxs)("div",{className:"event-infos",children:[Object(o.jsx)("h4",{children:"Dates : "}),Object(o.jsxs)("p",{children:["Du ",u.LocalDate(n.fields.date_start)," au ",u.LocalDate(n.fields.date_end)]}),Object(o.jsx)("h4",{children:"Prix : "}),Object(o.jsx)("p",{children:n.fields.price_detail}),Object(o.jsx)("h4",{children:"S'y rendre : "}),Object(o.jsx)("h5",{children:"Adresse : "}),Object(o.jsxs)("ul",{className:"address",children:[Object(o.jsx)("li",{children:n.fields.address_name},"address_name"+s),Object(o.jsx)("li",{children:n.fields.address_street},"address_street"+s),Object(o.jsxs)("li",{children:[n.fields.address_zipcode," ",n.fields.address_city]},"address_zipcode"+s)]}),Object(o.jsx)("h5",{children:"En transport : "}),Object(o.jsx)("p",{children:n.fields.transport}),Object(o.jsx)("h4",{children:"Plus d'info : "}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:n.fields.contact_phone},"contact_phone"+s),Object(o.jsx)("li",{children:n.fields.contact_mail},"contact_mail"+s),Object(o.jsx)("li",{children:n.fields.contact_twitter},"contact_twitter"+s),Object(o.jsx)("li",{children:n.fields.contact_facebook},"contact_facebook"+s)]})]})]}),Object(o.jsx)(O,{id:s})]})]})})},x=function(e){var t=e.eventdata,c=Object(s.useState)(!1),n=Object(a.a)(c,2),r=n[0],i=n[1],d=Object(s.useState)("false"),l=Object(a.a)(d,2),j=l[0],b=l[1];return Object(o.jsxs)("div",{className:"latest-event",children:[t.fields&&Object(o.jsxs)("div",{className:j?"latest-event":"none",children:[" ",Object(o.jsx)("h3",{onClick:function(){i(!0),b(!j)},children:t.fields.title}),Object(o.jsxs)("div",{className:"event-content",children:[Object(o.jsx)("img",{src:t.fields.cover.url,alt:t.fields.cover.filename}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:t.fields.title},"title"+t.id),Object(o.jsxs)("li",{children:["D\xe9bute le ",u.LocalDate(t.fields.date_start)," \xe0 ",u.LocalHour(t.fields.date_start)]},"date-start"+t.id),Object(o.jsxs)("li",{children:["Termine le ",u.LocalDate(t.fields.date_end)," \xe0 ",u.LocalHour(t.fields.date_end)]},"date-end"+t.id),Object(o.jsxs)("li",{children:["Cat\xe9gorie : ",t.fields.category]},"category"+t.id),Object(o.jsxs)("li",{children:["Description : ",t.fields.lead_text]},"description"+t.id)]})]}),Object(o.jsx)(O,{id:t.id})]}),r&&Object(o.jsx)(f,{event:t,onClose:function(){i(!1),b(!j)}})]})},v=function(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(!1),i=Object(a.a)(r,2),d=i[0],u=i[1];return Object(s.useEffect)((function(){l.a.get("https://opendata.paris.fr/api/v2/catalog/datasets/que-faire-a-paris-/records?sort=date_end&limit=1&pretty=false&timezone=UTC").then((function(e){return n(e.data.records[0].record)})).catch((function(e){u(!0),console.log("erreur")}))}),[]),Object(o.jsxs)("div",{className:"main-content",children:[Object(o.jsx)("h1",{children:"Bienvenue sur Paris Events"}),Object(o.jsx)("h2",{children:"Voici la derni\xe8re actualit\xe9"}),c&&Object(o.jsx)(x,{eventdata:c}),d&&Object(o.jsx)(j,{})]})},m=(c(59),function(){return Object(o.jsxs)("div",{className:"not-found",children:[Object(o.jsx)("h1",{children:"erreur"}),Object(o.jsx)("p",{children:"La page que vous cherchez n'existe pas."})]})}),p=(c(60),function(e){var t=e.eventdata,c=Object(s.useState)(!1),n=Object(a.a)(c,2),r=n[0],i=n[1];return Object(o.jsxs)("div",{className:"search-result",children:[Object(o.jsx)("div",{className:"all-cards",children:!r&&Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("h3",{onClick:function(){i(!0)},children:t.record.fields.title}),Object(o.jsxs)("div",{className:"card-content",children:[Object(o.jsx)("img",{src:t.record.fields.cover.url,alt:"image de "+t.record.fields.cover_alt}),Object(o.jsxs)("ul",{children:[Object(o.jsxs)("li",{children:["D\xe9bute le ",u.LocalDate(t.record.fields.date_start)," \xe0 ",u.LocalHour(t.record.fields.date_start)]},"date-start"+t.record.id),Object(o.jsxs)("li",{children:["Termine le ",u.LocalDate(t.record.fields.date_end)," \xe0 ",u.LocalHour(t.record.fields.date_end)]},"date-end"+t.record.id),Object(o.jsxs)("li",{children:["Cat\xe9gorie : ",t.record.fields.category]},"category"+t.record.id),Object(o.jsxs)("li",{children:["Description : ",t.record.fields.lead_text]},"description"+t.record.id)]})]}),Object(o.jsx)(O,{id:t.record.id})]})}),Object(o.jsx)("div",{children:r&&Object(o.jsx)(f,{event:t.record,onClose:function(){i(!1)}})})]})}),g=(c(61),function(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(!1),i=Object(a.a)(r,2),d=i[0],u=i[1],b=Object(s.useState)(!1),h=Object(a.a)(b,2),O=h[0],f=h[1],x=Object(s.useState)(""),v=Object(a.a)(x,2),m=v[0],g=v[1],N="https://opendata.paris.fr/api/v2/catalog/datasets/que-faire-a-paris-/records?limit=10&search=";Object(s.useEffect)((function(){l.a.get(N).then((function(e){return n(e.data.records)})).catch((function(e){u(!0),console.log("erreur")}))}),[]);var _=function(){0===c.length&&f(!0)};return Object(o.jsxs)("div",{className:"main-content",children:[Object(o.jsx)("h1",{children:"La liste des \xe9v\xe9nements"}),Object(o.jsxs)("div",{className:"search",children:[Object(o.jsx)("input",{placeholder:"Rechercher un \xe9v\xe9nement",type:"search",onInput:function(e){var t=e.target.value;g(t)},className:"searchTermInput"}),Object(o.jsx)("button",{className:"search-button",onClick:function(){l.a.get(N+m).then((function(e){return n(e.data.records)})).catch((function(e){u(!0),console.log("erreur")})),_()},children:"Rechercher"})]}),Object(o.jsx)("div",{className:"event-card",children:c.map((function(e){return Object(o.jsx)("div",{className:"div",children:Object(o.jsx)(p,{eventdata:e})},e.record.id)}))}),O&&Object(o.jsx)("div",{className:"error-term",children:Object(o.jsx)("p",{children:"Plus aucun \xe9v\xe9nement ne correspond a votre recherche. Pour avoir plus de r\xe9sultats r\xe9essayer avec un autre mot."})}),d&&Object(o.jsx)(j,{})]})}),N=function(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){l.a.get("https://opendata.paris.fr/api/v2/catalog/datasets/que-faire-a-paris-/records/ed7bf90eb37e980ca5bcc2477e6f3375854c3a51").then((function(e){return n(e.data.record)}))}),[]),Object(o.jsx)("div",{className:"main-content",children:c.fields&&Object(o.jsx)(f,{eventdata:c})})},_=function(){return Object(o.jsxs)("div",{className:"main-content",children:[Object(o.jsx)("h1",{children:"Favoris"}),Object(o.jsx)("p",{children:"Cette partie est cours de construction revenez plus tard."})]})},D=c(11),S=c(2);c(62);var L=function(){return Object(o.jsx)("nav",{children:Object(o.jsxs)("ul",{className:"navbar",children:[Object(o.jsx)("li",{children:Object(o.jsx)(D.b,{exact:!0,to:"/",activeClassName:"nav-active",children:"Accueil"})}),Object(o.jsx)("li",{children:Object(o.jsx)(D.b,{exact:!0,to:"/recherche-des-evenements",activeClassName:"nav-active",children:"Liste des \xe9v\xe9nements"})}),Object(o.jsx)("li",{children:Object(o.jsx)(D.b,{exact:!0,to:"/vos-favoris",activeClassName:"nav-active",children:"Favoris"})})]})})};var C=function(){return Object(o.jsx)("div",{className:"page",children:Object(o.jsxs)(D.a,{children:[Object(o.jsx)(L,{}),Object(o.jsxs)(S.c,{children:[Object(o.jsx)(S.a,{path:"/",exact:!0,component:v}),Object(o.jsx)(S.a,{path:"/recherche-des-evenements",exact:!0,component:g}),Object(o.jsx)(S.a,{path:"/vos-favoris",exact:!0,component:_}),Object(o.jsx)(S.a,{path:"/evenement/id=",exact:!0,component:N}),Object(o.jsx)(S.a,{component:m})]})]})})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,69)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),r(e),i(e)}))};i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(C,{})}),document.getElementById("root")),y()}},[[68,1,2]]]);
//# sourceMappingURL=main.1e051b1b.chunk.js.map